<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Davinci_interface: davinci_interface Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Davinci_interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacedavinci__interface.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">davinci_interface Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The davinci simulation and/or robot interface. Use instead of directly calling topics.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adc6383d2e91730a320974ecb91d044d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedavinci__interface.html#adc6383d2e91730a320974ecb91d044d1">init_joint_control</a> (ros::NodeHandle &amp;nh)</td></tr>
<tr class="memdesc:adc6383d2e91730a320974ecb91d044d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up publishers to connect to DaVinci's joints.  <a href="#adc6383d2e91730a320974ecb91d044d1">More...</a><br/></td></tr>
<tr class="separator:adc6383d2e91730a320974ecb91d044d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3784f76cf3be72ecbd8decf60fe134"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedavinci__interface.html#a2e3784f76cf3be72ecbd8decf60fe134">publish_joints</a> (const double input[14])</td></tr>
<tr class="memdesc:a2e3784f76cf3be72ecbd8decf60fe134"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a joint configuration to the robot.  <a href="#a2e3784f76cf3be72ecbd8decf60fe134">More...</a><br/></td></tr>
<tr class="separator:a2e3784f76cf3be72ecbd8decf60fe134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e68a485603086bfe204c4d71be416c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedavinci__interface.html#aa2e68a485603086bfe204c4d71be416c">init_joint_feedback</a> (ros::NodeHandle &amp;nh)</td></tr>
<tr class="memdesc:aa2e68a485603086bfe204c4d71be416c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up subscribers to listen to DaVinci's joints.  <a href="#aa2e68a485603086bfe204c4d71be416c">More...</a><br/></td></tr>
<tr class="separator:aa2e68a485603086bfe204c4d71be416c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ade5fe22831b7ea798246d01e29a27e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedavinci__interface.html#a7ade5fe22831b7ea798246d01e29a27e">get_fresh_robot_pos</a> (std::vector&lt; std::vector&lt; double &gt; &gt; &amp;output)</td></tr>
<tr class="memdesc:a7ade5fe22831b7ea798246d01e29a27e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recieve an up-to-date joint configuration from the robot.  <a href="#a7ade5fe22831b7ea798246d01e29a27e">More...</a><br/></td></tr>
<tr class="separator:a7ade5fe22831b7ea798246d01e29a27e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a858f1105c8464ed7255903b7cfb7690b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedavinci__interface.html#a858f1105c8464ed7255903b7cfb7690b">get_last_robot_pos</a> (std::vector&lt; std::vector&lt; double &gt; &gt; &amp;output)</td></tr>
<tr class="memdesc:a858f1105c8464ed7255903b7cfb7690b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recieve the most recent joint configuration from the robot.  <a href="#a858f1105c8464ed7255903b7cfb7690b">More...</a><br/></td></tr>
<tr class="separator:a858f1105c8464ed7255903b7cfb7690b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The davinci simulation and/or robot interface. Use instead of directly calling topics. </p>
<p>This will prevent both dupication and unnecessary work (having fifty packages with fifty slightly different ways of reading joint states), and also make it much easier to change methods of interacting with the robot that are still in a fair degree of flux. Since part of the point of this package is to simplify making changes to the interface, anything that does NOT use it may break at any time. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7ade5fe22831b7ea798246d01e29a27e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool davinci_interface::get_fresh_robot_pos </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>output</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recieve an up-to-date joint configuration from the robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">output</td><td>A two-dimensional vector of doubles that will be filled with the joint states.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if there exist topics on which to listen to the joint states (i.e. joint listening has been initialized), FALSE otherwise.</dd></dl>
<p>Fills a vector with a guaranteed up-to-date joint configuration from the robot. This function will block until a joint configuration has been recieved. </p>

</div>
</div>
<a class="anchor" id="a858f1105c8464ed7255903b7cfb7690b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool davinci_interface::get_last_robot_pos </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>output</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recieve the most recent joint configuration from the robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">output</td><td>A two-dimensional vector of doubles that will be filled with the joint states.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if there exist topics on which to listen to the joint states (i.e. joint listening has been initialized) <em>and</em> there is a joint state waiting, FALSE otherwise.</dd></dl>
<p>Fills a vector with the most recent joint configuration from the robot. </p>

</div>
</div>
<a class="anchor" id="adc6383d2e91730a320974ecb91d044d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void davinci_interface::init_joint_control </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle &amp;&#160;</td>
          <td class="paramname"><em>nh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up publishers to connect to DaVinci's joints. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nh</td><td>The nodehandle of the node to enable output for.</td></tr>
  </table>
  </dd>
</dl>
<p>Call this before attempting to use publish_joints to initiate lines of communication with either the simulation or physical robot. If this is not done at least once, publish_joints will not be able to publish your commands on any topic, the robot won't do anything, and it will return FALSE. </p>

</div>
</div>
<a class="anchor" id="aa2e68a485603086bfe204c4d71be416c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void davinci_interface::init_joint_feedback </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle &amp;&#160;</td>
          <td class="paramname"><em>nh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up subscribers to listen to DaVinci's joints. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nh</td><td>The nodehandle of the node to enable input for.</td></tr>
  </table>
  </dd>
</dl>
<p>Call this before attempting to use get_fresh_robot_pos to initiate lines of communication with either the simulation or physical robot. If this is not done at least once, get_fresh_robot_pos will not be able to listen to the robot, you won't get any information, and it will return FALSE. </p>

</div>
</div>
<a class="anchor" id="a2e3784f76cf3be72ecbd8decf60fe134"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool davinci_interface::publish_joints </td>
          <td>(</td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>input</em>[14]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a joint configuration to the robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>An array of joint values, one for each joint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if there exist topics on which the joint message was sent (i.e. joint control has been initialized), FALSE otherwise.</dd></dl>
<p>Sends a set of joint commands to the simulated or physical DaVinci robot, based on an input array. The array is formatted in accordance with the DaVinci Joint Configuration. Note that there is NO guarantee that the messages sent were recieved or that the controllers executed them; use get_fresh_robot_pos to check this. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedavinci__interface.html">davinci_interface</a></li>
    <li class="footer">Generated on Fri Aug 26 2016 14:03:08 for Davinci_interface by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
